<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/en/img/ironman-draw.png">
    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <title>
        
          [IoT] MQTT Protocol - Wei&#39;s Blog
        
    </title>

    <link rel="canonical" href="http://swsmile.info/en/2018/11/24/IoT-MQTT-Protocol/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/en/css/bootstrap.min.css">

    <!-- Custom CSS --> 
    <link rel="stylesheet" href="/en/css/beantech.min.css">
    
    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/en/css/highlight.css">

    <link rel="stylesheet" href="/en/css/widget.css">

    <link rel="stylesheet" href="/en/css/rocket.css">

    <link rel="stylesheet" href="/en/css/signature.css">

    <link rel="stylesheet" href="/en/css/toc.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">
	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            background-image: url('../../../../img/tag-bg.png')
            /*post*/
        
    }
    
    #signature{
        background-image: url('/en/img/signature/BeanTechSign-white.png');
    }
    
</style>

<header class="intro-header">
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/en/tags/#IoT" title="IoT">IoT</a>
                            
                        </div>
                        <h1>[IoT] MQTT Protocol</h1>
                        <h2 class="subheading"></h2>
                        <span class="meta">
                            Posted by Wei Shi on
                            2018-11-24
                        </span>
                    </div>
                


                </div>
            </div>
        </div>
    </div>
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/en/">Wei&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/en/">Home</a>
                    </li>

                    

                        
                        <li>
                            <a href="/en/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/en/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/en/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    <!-- Modify by Yu-Hsuan Yen -->

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h1><span id="basic-idea">Basic Idea</span></h1>
<p>MQTT (<strong>Message Queuing Telemetry Transport</strong>) is a lightweight publish-subscribe-based messaging protocol.</p>
<h4><span id="mqtt-vs-http">MQTT vs HTTP</span></h4>
<p>The publish/subscribe architecture which is used in MQTT is in contrast to HTTP with its request/response paradigm.</p>
<p>The difference to HTTP is that a client doesn’t have to pull the information it needs, but the broker pushes the information to the client, in the case there is something new. Therefore each MQTT client has a permanently open TCP connection to the broker. If this connection is interrupted by any circumstances, the MQTT broker can buffer all messages and send them to the client when it is back online.</p>
<h4><span id="a-machine-to-machine-m2m-protolcol">A Machine-to-machine (M2M) Protolcol</span></h4>
<p>MQTT is a machine-to-machine (M2M) protolcol, which means that it is designed for <strong>resource constrained devices</strong> that have limited processing and storage capabilities, and that often run on batteries.</p>
<h4><span id="based-on-tcpip">Based on TCP/IP</span></h4>
<p>MQTT is based on <strong>TCP/IP</strong>.</p>
<p><img src="/en/pic/image-20181123222428318-3011868.png" alt="image-20181123222428318"></p>
<p>While MQTT-SN is a variation of the main protocol aimed at embedded devices on non-TCP/IP networks, such as Zigbee and Bluetooth.</p>
<p>The difference to HTTP is that a client doesn’t have to pull the information it needs, but the broker pushes the information to the client, in the case there is something new. Therefore each MQTT client has a permanently open TCP connection to the broker. If this connection is interrupted by any circumstances, the MQTT broker can buffer all messages and send them to the client when it is back online.</p>
<h1><span id="component">Component</span></h1>
<p><img src="/en/pic/image-20181123215538494-3010138-3010879.png" alt="image-20181123215538494"></p>
<h5><span id="a-mqtt-based-scenario-has-three-roles">A MQTT-based scenario has three roles:</span></h5>
<ul>
<li><strong>Publisher</strong>: The role of the publisher is to connect to the message broker and <strong>publish content</strong></li>
<li><strong>Subscriber</strong>: They connect to the same message broker and <strong>subscribe to content that they are interested in</strong></li>
<li><strong>Message broker</strong>: This makes sure that the <strong>published content is relayed to interested subscribers</strong></li>
</ul>
<p>An MQTT system consists of mutiple clients that only communicate with a broker server and don’t know the existence of other clients. A client may be either a publisher of information or a subscriber</p>
<hr>
<p>Content is identified by topic. When publishing content, <strong>the publisher can choose whether the content should be retained by the server or not</strong>.</p>
<ul>
<li>If retained, each subscriber will receive the message(s) precedingly published upon subscribing</li>
<li>If not, the broker will discard the message directly.</li>
</ul>
<h1><span id="interaction">Interaction</span></h1>
<p><img src="/en/pic/image-20181128120624458-3406784.png" alt="image-20181128120624458"></p>
<p>Since MQTT is a connection-based protocol, a client first sends a connect message to the broker with parameters required for client identification.</p>
<p>Afterwards, a client (subscriber) registers its interest on a specific topic by sending a subscribe message.</p>
<p>A client (publisher) publishes some content by sending a publish message to the broker which contains data published on a certain topic.</p>
<p>The broker forwards received publish message to all subscribers interested in the topic.</p>
<p>Each message is followed by an acknowledgment sent by a responder (i.e., suback and puback messages). Additionally, if a client wants to unsubscribe from a topic it can send an unsubscribe message and will receive an unsuback message as a reply.</p>
<p>To enable persistent communication, an MQTT broker needs to be aware of the connectivity state of the clients. Therefore, the MQTT protocol defines the pingreq and pingresp messages which are exchanged between a broker and client if no other messages have been sent within a certain time-frame.</p>
<h1><span id="content">Content</span></h1>
<h3><span id="topic">Topic</span></h3>
<h5><span id="topic-representation">Topic Representation</span></h5>
<p><strong>A topic is a simple string that can have more hierarchy levels, which are separated by a slash</strong>.</p>
<p>A sample topic for sending temperature data of the living room could be <code>house/living-room/temperature</code>.</p>
<ul>
<li>The forward slash character (/) is used as a delimiter when describing a topic path</li>
<li>Topics are case-sensitive</li>
</ul>
<h5><span id="wildcard-in-topic">Wildcard in Topic</span></h5>
<ul>
<li>
<p><code>+</code>: single-level wildcard character - only allows arbitrary values for one hierarchy</p>
</li>
<li>
<p><code>#</code>: multi-level wildcard character</p>
</li>
</ul>
<p>When a client (subscriber) subscribs to a specific topic, it can usea wildcard, therefore subscribing to either <strong>a specific topic</strong> by providing its exact path, or <strong>a collection of topics</strong> using either the single-level <code>+</code> or multi-level  <code>#</code> wildcard character.</p>
<p>For example, the subscription to <code>house/+/temperature</code> would result in the subscription of any topic sent to <code>house/living-room/temperature</code> as well as any topic with an arbitrary value in the place of living room, e.g., <code>house/kitchen/temperature</code>.</p>
<h3><span id="quality-of-service">Quality of Service</span></h3>
<h5><span id="there-are-three-quality-of-service-levels-in-mqtt-available-while-publishing-content-which-is-classified-in-increasing-order-of-overhead">There are three Quality of Service levels in MQTT available while publishing content, which is classified in increasing order of overhead:</span></h5>
<ul>
<li>Unacknowledged service - at most once
<ul>
<li>the message is sent only once whatever the message is actually delivered or not and the client as well as broker takes no additional steps to acknowledge delivery</li>
</ul>
</li>
<li>Acknowledged service - at least one
<ul>
<li>The message is re-tried by the sender multiple times until acknowledgement is received (acknowledged delivery).</li>
</ul>
</li>
<li>Assured service - exactly onece
<ul>
<li>Information is not only acknowledged but sent in two steps (i.e., two-level handshake). First it is transmitted and then delivered. Each step is acknowledged. This makes sure that <strong>the content is delivered exactly once to each subscriber</strong>.</li>
</ul>
</li>
</ul>
<h2><span id="message-types">Message types</span></h2>
<ul>
<li>
<p>Connect</p>
</li>
<li>
<p>Disconnect</p>
</li>
<li>
<p>Publish</p>
</li>
</ul>
<h3><span id="security">Security</span></h3>
<p>Since the <strong>MQTT protocol itself does not consider security</strong>, therefore, it does not define any security facility in the MQTT protocol itself.</p>
<p>For example, the support for <strong>user authentication</strong> in MQTT is weak. Plain text username and password authentication exists, but it provides an obvious risk if the server is not hosted in a controlled environment.</p>
<p>To circumvent the most obvious problems, MQTT can be used over an encrypted connection using SSL/TLS.</p>
<h1><span id="alternative-protocols">Alternative Protocols</span></h1>
<p>Alternative protocols include the <strong>Advanced Message Queuing Protocol (AMQP)</strong>, <strong>Streaming Text Oriented Messaging Protocol (STOMP)</strong>, <strong>the IETF Constrained Application Protocol</strong>, <strong>XMPP</strong>, <strong>DDS</strong>, <strong>OPC UA</strong>, and <strong>Web Application Messaging Protocol (WAMP)</strong>.</p>
<h1><span id="reference">Reference</span></h1>
<ul>
<li>Waher, P., 2015. <em>Learning internet of things</em>. Packt Publishing Ltd.</li>
<li>MQTT 101 – How to Get Started with the lightweight IoT Protocol - <a href="https://www.hivemq.com/blog/how-to-get-started-with-mqtt" target="_blank" rel="noopener">https://www.hivemq.com/blog/how-to-get-started-with-mqtt</a></li>
</ul>

                

                <hr>
                <!-- Pager -->
                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/en/2018/12/01/Workflow-Data-flow-and-Control-flow/" data-toggle="tooltip" data-placement="top" title="[Workflow] Data flow and Control flow">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/en/2018/11/24/IoT-Node-js-MQTT-Demo/" data-toggle="tooltip" data-placement="top" title="[IoT] Node.js MQTT Demo">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                <!-- duoshuo Share start -->
                
                <!-- 多说 Share end-->

                <!-- 多说评论框 start -->
                
                <!-- 多说评论框 end -->

                <!-- disqus comment start -->
                
                    <div class="comment">
                        <div id="disqus_thread" class="disqus-thread"></div>
                    </div>
                
                <!-- disqus comment end -->
            </div>
            
            <!-- Tabe of Content -->
            <!-- Table of Contents -->

    
      <aside id="sidebar">
        <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
          <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">Basic Idea</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">1.0.0.1.</span> <span class="toc-nav-text">MQTT vs HTTP</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">1.0.0.2.</span> <span class="toc-nav-text">A Machine-to-machine (M2M) Protolcol</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">1.0.0.3.</span> <span class="toc-nav-text">Based on TCP/IP</span></a></li></ol></li></ol><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">2.</span> <span class="toc-nav-text">Component</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">2.0.0.0.1.</span> <span class="toc-nav-text">A MQTT-based scenario has three roles:</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">3.</span> <span class="toc-nav-text">Interaction</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.</span> <span class="toc-nav-text">Content</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.0.1.</span> <span class="toc-nav-text">Topic</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.0.1.0.1.</span> <span class="toc-nav-text">Topic Representation</span></a></li><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.0.1.0.2.</span> <span class="toc-nav-text">Wildcard in Topic</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.0.2.</span> <span class="toc-nav-text">Quality of Service</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-5"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.0.2.0.1.</span> <span class="toc-nav-text">There are three Quality of Service levels in MQTT available while publishing content, which is classified in increasing order of overhead:</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.1.</span> <span class="toc-nav-text">Message types</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">4.1.1.</span> <span class="toc-nav-text">Security</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">5.</span> <span class="toc-nav-text">Alternative Protocols</span></a></li><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#undefined"><span class="toc-nav-number">6.</span> <span class="toc-nav-text">Reference</span></a></li>
        
        </div>
      </aside>
    

                
            <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/en/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/en/tags/#IoT" title="IoT">IoT</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://swsmile.info" target="_blank">My Chinese Blog</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>




<!-- disqus embedded js code start (one page only need to embed once) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "your-disqus-ID";
    var disqus_identifier = "http://swsmile.info/2018/11/24/IoT-MQTT-Protocol/";
    var disqus_url = "http://swsmile.info/2018/11/24/IoT-MQTT-Protocol/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus embedded js code start end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'left',
          icon: 'ℬ'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                

                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/swsmile666">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://github.com/swsmile">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/weishi1028">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Wei Shi 2020 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    re-Ported by <a href="http://beantech.org">BeanTech</a> | 
                    <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=YenYuHsuan&repo=hexo-theme-beantech&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/en/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/en/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/en/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("http://swsmile.info/en/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-78769787-2';
    var _gaDomain = 'en';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->

<script>
    // dynamic User by Hux
    var _baId = '4481376a6b117446f0ad6f2b9b796afc';

    // Originial
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?" + _baId;
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
</script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/en/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/en/js/toc.js?v=1.0.0" async=""></script>
<!-- Image to hack wechat -->
<img src="http://swsmile.info/en/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
