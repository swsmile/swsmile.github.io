<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="dns-prefetch" href="http://swsmile.info">
  <title>è¥¿ç»´èœ€é» çš„åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="è¥¿ç»´èœ€é» çš„åšå®¢">
<meta name="keywords" content="å‰ç«¯,js,jquery,javascript,html5,å¼€å‘è€…,ç¨‹åºçŒ¿,ç¨‹åºåª›,æå®¢,ç¼–ç¨‹,ä»£ç ,å¼€æº,ITç½‘ç«™,Developer,Programmer,Coder,Geek,html,css,css3,ç”¨æˆ·ä½“éªŒ">
<meta property="og:type" content="website">
<meta property="og:title" content="è¥¿ç»´èœ€é» çš„åšå®¢">
<meta property="og:url" content="http://swsmile.info/index.html">
<meta property="og:site_name" content="è¥¿ç»´èœ€é» çš„åšå®¢">
<meta property="og:description" content="è¥¿ç»´èœ€é» çš„åšå®¢">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="è¥¿ç»´èœ€é» çš„åšå®¢">
<meta name="twitter:description" content="è¥¿ç»´èœ€é» çš„åšå®¢">
  
    <link rel="alternative" href="/atom.xml" title="è¥¿ç»´èœ€é» çš„åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" type="text/css" href="/./main.2d7529.css">
  <style type="text/css">
  
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    // listen to any DOM change and automatically perform spacing via MutationObserver()
    pangu.autoSpacingPage();
  });
</script>
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-78769787-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  
<script>
var _hmt = _hmt || [];
(function() {
	var hm = document.createElement("script");
	hm.src = "https://hm.baidu.com/hm.js?4481376a6b117446f0ad6f2b9b796afc";
	var s = document.getElementsByTagName("script")[0]; 
	s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</head>
</html>
<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      
<div class="overlay" style="background: #4d4d4d"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/logo.jpg" class="js-avatar">
		</a>
		<hgroup>
		  <h1 class="header-author"><a href="/">è¥¿ç»´èœ€é»</a></h1>
		</hgroup>
		
		<p class="header-subtitle">ğŸ’ Software engineer | ğŸ“·Photographer | ğŸ‘¹Urban explorer</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">ä¸»é¡µ</a></li>
	        
				<li><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
    		
    			
    			<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">Tag</a>
    			
            
    			
    			<a q-on="click: openSlider(e, 'friends')" href="javascript:void(0)">Friends</a>
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="mail" target="_blank" href="mailto:swsmile1028@gmail.com" title="mail"><i class="icon-mail"></i></a>
		        
					<a class="github" target="_blank" href="https://github.com/swsmile" title="github"><i class="icon-github"></i></a>
		        
					<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/weishi1028/" title="linkedin"><i class="icon-linkedin"></i></a>
		        
					<a class="weibo" target="_blank" href="https://weibo.com/swsmile666" title="weibo"><i class="icon-weibo"></i></a>
		        
					<a class="facebook" target="_blank" href="https://www.facebook.com/swsmile666" title="facebook"><i class="icon-facebook"></i></a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img src="/logo.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">è¥¿ç»´èœ€é»</h1>
			</hgroup>
			
			<p class="header-subtitle"><i class="icon icon-quo-left"></i>ğŸ’ Software engineer | ğŸ“·Photographer | ğŸ‘¹Urban explorer<i class="icon icon-quo-right"></i></p>
			
			
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="mail" target="_blank" href="mailto:swsmile1028@gmail.com" title="mail"><i class="icon-mail"></i></a>
			        
						<a class="github" target="_blank" href="https://github.com/swsmile" title="github"><i class="icon-github"></i></a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/weishi1028/" title="linkedin"><i class="icon-linkedin"></i></a>
			        
						<a class="weibo" target="_blank" href="https://weibo.com/swsmile666" title="weibo"><i class="icon-weibo"></i></a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/swsmile666" title="facebook"><i class="icon-facebook"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 50%">
				
				
					<li style="width: 50%"><a href="/">ä¸»é¡µ</a></li>
		        
					<li style="width: 50%"><a href="/archives/">æ‰€æœ‰æ–‡ç« </a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1" class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            
  
    <article id="post-ã€Golangã€‘æ€§èƒ½åˆ†æ-PProf" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/15/ã€Golangã€‘æ€§èƒ½åˆ†æ-PProf/">ã€Golangã€‘æ€§èƒ½åˆ†æ-PProf</a>
    </h1>
  

        
        <a href="/2020/08/15/ã€Golangã€‘æ€§èƒ½åˆ†æ-PProf/" class="archive-article-date">
  	<time datetime="2020-08-15T04:58:17.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-15</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <a id="more"></a> 

<h1 id="PProf"><a href="#PProf" class="headerlink" title="PProf"></a>PProf</h1><p>æƒ³è¦è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œé¦–å…ˆç©ç›®åœ¨ Go è‡ªèº«æä¾›çš„å·¥å…·é“¾æ¥ä½œä¸ºåˆ†æä¾æ®ï¼Œæœ¬æ–‡å°†å¸¦ä½ å­¦ä¹ ã€ä½¿ç”¨ Go åèŠ±å›­ï¼Œæ¶‰åŠå¦‚ä¸‹ï¼š</p>
<ul>
<li>runtime/pprofï¼šé‡‡é›†ç¨‹åºï¼ˆé Serverï¼‰çš„è¿è¡Œæ•°æ®è¿›è¡Œåˆ†æ</li>
<li>net/http/pprofï¼šé‡‡é›† HTTP Server çš„è¿è¡Œæ—¶æ•°æ®è¿›è¡Œåˆ†æ</li>
</ul>
<h2 id="å¯ä»¥åšä»€ä¹ˆ"><a href="#å¯ä»¥åšä»€ä¹ˆ" class="headerlink" title="å¯ä»¥åšä»€ä¹ˆ"></a>å¯ä»¥åšä»€ä¹ˆ</h2><ul>
<li>CPU Profilingï¼šCPU åˆ†æï¼ŒæŒ‰ç…§ä¸€å®šçš„é¢‘ç‡é‡‡é›†æ‰€ç›‘å¬çš„åº”ç”¨ç¨‹åº CPUï¼ˆå«å¯„å­˜å™¨ï¼‰çš„ä½¿ç”¨æƒ…å†µï¼Œå¯ç¡®å®šåº”ç”¨ç¨‹åºåœ¨ä¸»åŠ¨æ¶ˆè€— CPU å‘¨æœŸæ—¶èŠ±è´¹æ—¶é—´çš„ä½ç½®</li>
<li>Memory Profilingï¼šå†…å­˜åˆ†æï¼Œåœ¨åº”ç”¨ç¨‹åºè¿›è¡Œå †åˆ†é…æ—¶è®°å½•å †æ ˆè·Ÿè¸ªï¼Œç”¨äºç›‘è§†å½“å‰å’Œå†å²å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä»¥åŠæ£€æŸ¥å†…å­˜æ³„æ¼</li>
<li>Block Profilingï¼šé˜»å¡åˆ†æï¼Œè®°å½• goroutine é˜»å¡ç­‰å¾…åŒæ­¥ï¼ˆåŒ…æ‹¬å®šæ—¶å™¨é€šé“ï¼‰çš„ä½ç½®</li>
<li>Mutex Profilingï¼šäº’æ–¥é”åˆ†æï¼ŒæŠ¥å‘Šäº’æ–¥é”çš„ç«äº‰æƒ…å†µ</li>
</ul>
<h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><p>demo.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"log"</span></span><br><span class="line">    <span class="string">"net/http"</span></span><br><span class="line">    _ <span class="string">"net/http/pprof"</span></span><br><span class="line">    <span class="string">"GoPlayground/sw_pprof/data"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            log.Println(data.Add(<span class="string">"https://github.com/123456789"</span>))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line"></span><br><span class="line">    http.ListenAndServe(<span class="string">"0.0.0.0:6060"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>data/d.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> data</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> datas []<span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Add</span><span class="params">(str <span class="keyword">string</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    data := []<span class="keyword">byte</span>(str)</span><br><span class="line">    sData := <span class="keyword">string</span>(data)</span><br><span class="line">    datas = <span class="built_in">append</span>(datas, sData)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sData</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè¿™ä¸ªæ–‡ä»¶åï¼Œä½ çš„ HTTP service ï¼ˆè¿è¡Œåœ¨ <a href="http://127.0.0.1:6060/" target="_blank" rel="noopener">http://127.0.0.1:6060/</a> ä¸‹ï¼‰ä¼šå¤šå‡ºä¸€ä¸ª <code>/debug/pprof</code>  endpoint ï¼Œå®ƒå¯ç”¨äºè§‚å¯Ÿåº”ç”¨ç¨‹åºçš„æƒ…å†µ</p>
<h2 id="Analysis-Approaches"><a href="#Analysis-Approaches" class="headerlink" title="Analysis Approaches"></a>Analysis Approaches</h2><h3 id="Approach-1-é€šè¿‡-Web-ç•Œé¢"><a href="#Approach-1-é€šè¿‡-Web-ç•Œé¢" class="headerlink" title="[Approach 1] é€šè¿‡ Web ç•Œé¢"></a>[Approach 1] é€šè¿‡ Web ç•Œé¢</h3><p>è¿è¡Œä½ç¨‹åºåï¼Œè®¿é—® <a href="http://127.0.0.1:6060/debug/pprof/" target="_blank" rel="noopener">http://127.0.0.1:6060/debug/pprof/</a> ã€‚</p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815135319592.png" alt="image-20200815135319592"></p>
<p>Profile Descriptions:</p>
<ul>
<li>allocs: A sampling of all past memory allocations</li>
<li>block (Block Profiling): Stack traces that led to blocking on synchronization primitives</li>
<li>cmdline: The command line invocation of the current program</li>
<li>goroutine: Stack traces of all current goroutines</li>
<li>heap: A sampling of memory allocations of live objects. You can specify the gc GET parameter to run GC before taking the heap sample.</li>
<li>mutex: Stack traces of holders of contended mutexes</li>
<li>profile (CPU Profiling): You can specify the duration in the seconds GET parameter. After you get the profile file, use the go tool pprof command to investigate the profile.</li>
<li>threadcreate: Stack traces that led to the creation of new OS threads</li>
<li>trace: A trace of execution of the current program. You can specify the duration in the seconds GET parameter. After you get the trace file, use the go tool trace command to investigate the trace.</li>
</ul>
<h3 id="Approach-2-é€šè¿‡-CLI"><a href="#Approach-2-é€šè¿‡-CLI" class="headerlink" title="[Approach 2] é€šè¿‡ CLI"></a>[Approach 2] é€šè¿‡ CLI</h3><p>è¿è¡Œä½ç¨‹åºåï¼Œæ‰§è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/profile\?seconds\=60</span><br></pre></td></tr></table></figure>

<h2 id="Usage-ä»¥ä½¿ç”¨CLIä¸ºä¾‹"><a href="#Usage-ä»¥ä½¿ç”¨CLIä¸ºä¾‹" class="headerlink" title="Usage - ä»¥ä½¿ç”¨CLIä¸ºä¾‹"></a>Usage - ä»¥ä½¿ç”¨CLIä¸ºä¾‹</h2><h3 id="æŸ¥çœ‹-CPU-å ç”¨è¾ƒé«˜çš„å‡½æ•°ï¼ˆè€—æ—¶å‡½æ•°ï¼‰"><a href="#æŸ¥çœ‹-CPU-å ç”¨è¾ƒé«˜çš„å‡½æ•°ï¼ˆè€—æ—¶å‡½æ•°ï¼‰" class="headerlink" title="æŸ¥çœ‹ CPU å ç”¨è¾ƒé«˜çš„å‡½æ•°ï¼ˆè€—æ—¶å‡½æ•°ï¼‰"></a>æŸ¥çœ‹ CPU å ç”¨è¾ƒé«˜çš„å‡½æ•°ï¼ˆè€—æ—¶å‡½æ•°ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/profile\?seconds\=60</span><br><span class="line"></span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/profile?seconds=60</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.samples.cpu.001.pb.gz</span><br><span class="line">Type: cpu</span><br><span class="line">Time: Aug 15, 2020 at 1:17pm (+08)</span><br><span class="line">Duration: 1mins, Total samples = 2.95s ( 4.92%)</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top10</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 2810ms, 95.25% of 2950ms total</span><br><span class="line">Dropped 11 nodes (cum &lt;= 14.75ms)</span><br><span class="line">Showing top 10 nodes out of 50</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">    1610ms 54.58% 54.58%     1760ms 59.66%  syscall.syscall</span><br><span class="line">     330ms 11.19% 65.76%      330ms 11.19%  runtime.nanotime</span><br><span class="line">     210ms  7.12% 72.88%      210ms  7.12%  runtime.usleep</span><br><span class="line">     160ms  5.42% 78.31%      310ms 10.51%  runtime.notetsleep</span><br><span class="line">     150ms  5.08% 83.39%      150ms  5.08%  runtime.exitsyscallfast</span><br><span class="line">     150ms  5.08% 88.47%      150ms  5.08%  runtime.pthread_cond_timedwait_relative_np</span><br><span class="line">     100ms  3.39% 91.86%      100ms  3.39%  runtime.memmove</span><br><span class="line">      40ms  1.36% 93.22%       40ms  1.36%  runtime.pthread_cond_signal</span><br><span class="line">      30ms  1.02% 94.24%       60ms  2.03%  runtime.findObject</span><br><span class="line">      30ms  1.02% 95.25%       30ms  1.02%  runtime.spanOf</span><br><span class="line">(pprof)</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè¯¥å‘½ä»¤åï¼Œéœ€ç­‰å¾… 60 ç§’ï¼ˆå¯è°ƒæ•´ seconds çš„å€¼ï¼‰ï¼Œpprof ä¼šè¿›è¡Œ CPU Profilingã€‚ç»“æŸåå°†é»˜è®¤è¿›å…¥ pprof çš„äº¤äº’å¼å‘½ä»¤æ¨¡å¼ï¼Œå¯ä»¥å¯¹åˆ†æçš„ç»“æœè¿›è¡ŒæŸ¥çœ‹æˆ–å¯¼å‡ºã€‚</p>
<p>å…·ä½“å¯æ‰§è¡Œ <code>help</code> æŸ¥çœ‹å‘½ä»¤è¯´æ˜ã€‚</p>
<ul>
<li>flatï¼šè¯¥å‡½æ•°çš„æ€»è¿è¡Œè€—æ—¶</li>
<li>flat%ï¼šè¯¥å‡½æ•°ä½¿ç”¨ CPU è€—æ—¶çš„æ€»æ¯”ä¾‹</li>
<li>sum%ï¼šè¯¥å‡½æ•°ç´¯ç§¯ä½¿ç”¨ CPU è€—æ—¶çš„æ€»æ¯”ä¾‹</li>
<li>cumï¼šè¯¥å‡½æ•°åŠ ä¸Šå®ƒä¹‹ä¸Šçš„è°ƒç”¨è¿è¡Œæ€»è€—æ—¶</li>
<li>cum%ï¼šè¯¥å‡½æ•°åŠ ä¸Šå®ƒä¹‹ä¸Šçš„è°ƒç”¨ä½¿ç”¨ CPU è€—æ—¶çš„æ€»æ¯”ä¾‹</li>
</ul>
<p>ä½¿ç”¨ pdf (Outputs a graph in PDF format):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(pprof) pdf</span><br></pre></td></tr></table></figure>

<p>Note that æˆ‘ä»¬éœ€è¦å®‰è£… graphviz<code>ï¼ˆ</code>brew install graphviz`ï¼‰ã€‚</p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815141234783.png" alt="image-20200815141234783"></p>
<p>è¾“å…¥ <code>list &lt;å‡½æ•°åç§°&gt;</code> ä»¥æŸ¥çœ‹å ç”¨è¾ƒå¤šCPU çš„å‡½æ•°å…·ä½“åœ¨å“ªï¼š</p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815150416519.png" alt="image-20200815150416519"></p>
<h4 id="Demo-1"><a href="#Demo-1" class="headerlink" title="Demo"></a>Demo</h4><p>æˆ‘ä»¬å†™ä¸€ä¸ªæ˜æ˜¾æœ‰é—®é¢˜çš„å°demoï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬æ€ä¹ˆå®šä½åˆ°é—®é¢˜æºï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"net/http"</span></span><br><span class="line">	_ <span class="string">"net/http/pprof"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			stupidCall1()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	http.ListenAndServe(<span class="string">"0.0.0.0:6060"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stupidCall1</span><span class="params">()</span></span> &#123;</span><br><span class="line">	stupidCall2()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stupidCall2</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10000000000</span>; i++ &#123;</span><br><span class="line">		<span class="comment">// do nothing</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…ˆå¯åŠ¨ç¨‹åºï¼Œå†è¿è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/profile</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/profile</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.samples.cpu.008.pb.gz</span><br><span class="line">Type: cpu</span><br><span class="line">Time: Aug 15, 2020 at 4:26pm (+08)</span><br><span class="line">Duration: 30.10s, Total samples = 26.32s (87.44%)</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top5</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 26300ms, 99.92% of 26320ms total</span><br><span class="line">Dropped 4 nodes (cum &lt;= 131.60ms)</span><br><span class="line">Showing top 5 nodes out of 7</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">   25900ms 98.40% 98.40%    25900ms 98.40%  main.stupidCall2</span><br><span class="line">     400ms  1.52% 99.92%      400ms  1.52%  runtime.nanotime</span><br><span class="line">         0     0% 99.92%    25900ms 98.40%  main.main.func1</span><br><span class="line">         0     0% 99.92%    25900ms 98.40%  main.stupidCall1</span><br><span class="line">         0     0% 99.92%      410ms  1.56%  runtime.mstart</span><br><span class="line">(pprof) list stupid</span><br><span class="line">Total: 26.32s</span><br><span class="line">ROUTINE ======================== main.stupidCall1 <span class="keyword">in</span> /Users/weishi/Working/GoPlayground/sw_pprof/sw_pprof.go</span><br><span class="line">         0     25.90s (flat, cum) 98.40% of Total</span><br><span class="line">         .          .     14:</span><br><span class="line">         .          .     15:	http.ListenAndServe(<span class="string">"0.0.0.0:6060"</span>, nil)</span><br><span class="line">         .          .     16:&#125;</span><br><span class="line">         .          .     17:</span><br><span class="line">         .          .     18:func <span class="function"><span class="title">stupidCall1</span></span>() &#123;</span><br><span class="line">         .     25.90s     19:	stupidCall2()</span><br><span class="line">         .          .     20:&#125;</span><br><span class="line">         .          .     21:</span><br><span class="line">         .          .     22:func <span class="function"><span class="title">stupidCall2</span></span>() &#123;</span><br><span class="line">         .          .     23:	<span class="keyword">for</span> i := 0; i &lt; 10000000000; i++ &#123;</span><br><span class="line">         .          .     24:		// <span class="keyword">do</span> nothing</span><br><span class="line">ROUTINE ======================== main.stupidCall2 <span class="keyword">in</span> /Users/weishi/Working/GoPlayground/sw_pprof/sw_pprof.go</span><br><span class="line">    25.90s     25.90s (flat, cum) 98.40% of Total</span><br><span class="line">         .          .     18:func <span class="function"><span class="title">stupidCall1</span></span>() &#123;</span><br><span class="line">         .          .     19:	stupidCall2()</span><br><span class="line">         .          .     20:&#125;</span><br><span class="line">         .          .     21:</span><br><span class="line">         .          .     22:func <span class="function"><span class="title">stupidCall2</span></span>() &#123;</span><br><span class="line">    25.90s     25.90s     23:	<span class="keyword">for</span> i := 0; i &lt; 10000000000; i++ &#123;</span><br><span class="line">         .          .     24:		// <span class="keyword">do</span> nothing</span><br><span class="line">         .          .     25:	&#125;</span><br><span class="line">         .          .     26:&#125;</span><br><span class="line">(pprof)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æˆåŠŸå®šä½åˆ°äº†é—®é¢˜ï¼ˆsample æ—¶é—´ä¸º26.32sï¼Œé—®é¢˜ä»£ç èŠ±äº†25.90sï¼Œ98.40%ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å†è¯•ç€ç”ŸæˆPDFï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(pprof) pdf</span><br><span class="line">Generating report <span class="keyword">in</span> profile002.pdf</span><br></pre></td></tr></table></figure>

<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815162848323.png" alt="image-20200815162848323"></p>
<h3 id="æŸ¥çœ‹æ´»è·ƒå¯¹è±¡çš„ï¼ˆé•¿æ—¶é—´ï¼‰å†…å­˜å ç”¨"><a href="#æŸ¥çœ‹æ´»è·ƒå¯¹è±¡çš„ï¼ˆé•¿æ—¶é—´ï¼‰å†…å­˜å ç”¨" class="headerlink" title="æŸ¥çœ‹æ´»è·ƒå¯¹è±¡çš„ï¼ˆé•¿æ—¶é—´ï¼‰å†…å­˜å ç”¨"></a>æŸ¥çœ‹æ´»è·ƒå¯¹è±¡çš„ï¼ˆé•¿æ—¶é—´ï¼‰å†…å­˜å ç”¨</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/heap</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/heap</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.alloc_objects.alloc_space.inuse_objects.inuse_space.001.pb.gz</span><br><span class="line">Type: inuse_space</span><br><span class="line">Time: Aug 15, 2020 at 1:47pm (+08)</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 916.99MB, 100% of 916.99MB total</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">  916.99MB   100%   100%   916.99MB   100%  GoPlayground/sw_pprof/data.Add</span><br><span class="line">         0     0%   100%   916.99MB   100%  main.main.func1</span><br><span class="line">(pprof) pdf</span><br><span class="line">Generating report <span class="keyword">in</span> profile003.pdf</span><br><span class="line">(pprof)</span><br></pre></td></tr></table></figure>

<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815140659403.png" alt="image-20200815140659403"></p>
<h4 id="Demo-2"><a href="#Demo-2" class="headerlink" title="Demo"></a>Demo</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¸æ–­å‘ buffer é‡Œè¿½åŠ é•¿åº¦ä¸º 1 MiB çš„æ•°ç»„ï¼Œç›´åˆ°æ€»å®¹é‡åˆ°è¾¾ 1 GiB ä¸ºæ­¢çš„ä¾‹å­ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"net/http"</span></span><br><span class="line">	_ <span class="string">"net/http/pprof"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	KB = <span class="number">1024</span></span><br><span class="line">	MB = <span class="number">1024</span> * KB</span><br><span class="line">	GB = <span class="number">1024</span> * MB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			stupidMemoryUse()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	http.ListenAndServe(<span class="string">"0.0.0.0:6060"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stupidMemoryUse</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> buffer [][MB]<span class="keyword">byte</span></span><br><span class="line">	max := GB</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(buffer)*MB &lt; max &#123;</span><br><span class="line">		buffer = <span class="built_in">append</span>(buffer, [MB]<span class="keyword">byte</span>&#123;&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼Œå¯åŠ¨è¯¥ç¨‹åºåï¼Œç­‰å¾…ä¸€ä¼šå„¿ï¼Œç„¶åæ‰§è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/heap</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/heap</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.alloc_objects.alloc_space.inuse_objects.inuse_space.004.pb.gz</span><br><span class="line">Type: inuse_space</span><br><span class="line">Time: Aug 15, 2020 at 4:35pm (+08)</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 256MB, 100% of 256MB total</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">     256MB   100%   100%      256MB   100%  main.stupidMemoryUse</span><br><span class="line">         0     0%   100%      256MB   100%  main.main.func1</span><br></pre></td></tr></table></figure>

<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815163747795.png" alt="image-20200815163747795"></p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815164427469.png" alt="image-20200815164427469"></p>
<h3 id="æŸ¥çœ‹å› è°ƒç”¨åŒæ­¥åŸè¯­ï¼ˆsynchronization-primitivesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰"><a href="#æŸ¥çœ‹å› è°ƒç”¨åŒæ­¥åŸè¯­ï¼ˆsynchronization-primitivesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰" class="headerlink" title="æŸ¥çœ‹å› è°ƒç”¨åŒæ­¥åŸè¯­ï¼ˆsynchronization primitivesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰"></a>æŸ¥çœ‹å› è°ƒç”¨åŒæ­¥åŸè¯­ï¼ˆsynchronization primitivesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/block</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/block</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.contentions.delay.001.pb.gz</span><br><span class="line">Type: delay</span><br><span class="line">Time: Aug 15, 2020 at 1:51pm (+08)</span><br><span class="line">No samples were found with the default sample value <span class="built_in">type</span>.</span><br><span class="line">Try <span class="string">"sample_index"</span> <span class="built_in">command</span> to analyze different sample values.</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 0, 0% of 0 total</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br><span class="line">(pprof)</span><br></pre></td></tr></table></figure>

<h3 id="æŸ¥çœ‹å› æŒæœ‰äº’æ–¥é”ï¼ˆmutexesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰"><a href="#æŸ¥çœ‹å› æŒæœ‰äº’æ–¥é”ï¼ˆmutexesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰" class="headerlink" title="æŸ¥çœ‹å› æŒæœ‰äº’æ–¥é”ï¼ˆmutexesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰"></a>æŸ¥çœ‹å› æŒæœ‰äº’æ–¥é”ï¼ˆmutexesï¼‰å¯¼è‡´é˜»å¡çš„æƒ…å†µï¼ˆå †æ ˆï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof http://localhost:6060/debug/pprof/mutex</span><br><span class="line">Fetching profile over HTTP from http://localhost:6060/debug/pprof/mutex</span><br><span class="line">Saved profile <span class="keyword">in</span> /Users/weishi/pprof/pprof.contentions.delay.002.pb.gz</span><br><span class="line">Type: delay</span><br><span class="line">Time: Aug 15, 2020 at 1:54pm (+08)</span><br><span class="line">No samples were found with the default sample value <span class="built_in">type</span>.</span><br><span class="line">Try <span class="string">"sample_index"</span> <span class="built_in">command</span> to analyze different sample values.</span><br><span class="line">Entering interactive mode (<span class="built_in">type</span> <span class="string">"help"</span> <span class="keyword">for</span> commands, <span class="string">"o"</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) top</span><br><span class="line">Showing nodes accounting <span class="keyword">for</span> 0, 0% of 0 total</span><br><span class="line">      flat  flat%   sum%        cum   cum%</span><br></pre></td></tr></table></figure>

<h3 id="é¢‘ç¹çš„GCå·¥ä½œï¼ˆå†…å­˜å›æ”¶ï¼‰"><a href="#é¢‘ç¹çš„GCå·¥ä½œï¼ˆå†…å­˜å›æ”¶ï¼‰" class="headerlink" title="é¢‘ç¹çš„GCå·¥ä½œï¼ˆå†…å­˜å›æ”¶ï¼‰"></a>é¢‘ç¹çš„GCå·¥ä½œï¼ˆå†…å­˜å›æ”¶ï¼‰</h3><h4 id="Demo-3"><a href="#Demo-3" class="headerlink" title="Demo"></a>Demo</h4><p>é¢‘ç¹è¿›è¡Œç©ºé—´ç”³è¯·å’Œå›æ”¶çš„ä»£ç ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"log"</span></span><br><span class="line">	<span class="string">"net/http"</span></span><br><span class="line">	_ <span class="string">"net/http/pprof"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">	<span class="string">"runtime"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	KB = <span class="number">1024</span></span><br><span class="line">	MB = <span class="number">1024</span> * KB</span><br><span class="line">	GB = <span class="number">1024</span> * MB</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	log.SetFlags(log.Lshortfile | log.LstdFlags)</span><br><span class="line">	log.SetOutput(os.Stdout)</span><br><span class="line"></span><br><span class="line">	runtime.GOMAXPROCS(<span class="number">1</span>)</span><br><span class="line">	runtime.SetMutexProfileFraction(<span class="number">1</span>)</span><br><span class="line">	runtime.SetBlockProfileRate(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		<span class="keyword">for</span> &#123;</span><br><span class="line">			stupidMemoryUse()</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;()</span><br><span class="line"></span><br><span class="line">	http.ListenAndServe(<span class="string">"0.0.0.0:6060"</span>, <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stupidMemoryUse</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> buffer [][MB]<span class="keyword">byte</span></span><br><span class="line">	max := GB</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(buffer)*MB &lt; max &#123;</span><br><span class="line">		buffer = <span class="built_in">append</span>(buffer, [MB]<span class="keyword">byte</span>&#123;&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ GODEBUG=gctrace=1 go run sw_pprof.go 1&gt;/dev/null 2&gt;&amp;1| grep gc</span><br><span class="line">gc 27 @2.568s 0%: 0.002+438+0.004 ms clock, 0.002+0/0.32/0+0.004 ms cpu, 1536-&gt;1536-&gt;0 MB, 1537 MB goal, 1 P</span><br><span class="line">scvg: inuse: 512, idle: 2622, sys: 3135, released: 1598, consumed: 1536 (MB)</span><br><span class="line">gc 28 @3.009s 0%: 0.021+0.97+0.009 ms clock, 0.021+0.23/0/0+0.009 ms cpu, 7-&gt;7-&gt;4 MB, 8 MB goal, 1 P</span><br><span class="line">gc 29 @3.012s 0%: 0.024+1.9+0.003 ms clock, 0.024+0.30/0/0+0.003 ms cpu, 12-&gt;12-&gt;8 MB, 13 MB goal, 1 P</span><br><span class="line">gc 30 @3.016s 0%: 0.025+4.7+0.005 ms clock, 0.025+0.31/0/0+0.005 ms cpu, 24-&gt;24-&gt;16 MB, 25 MB goal, 1 P</span><br><span class="line">gc 31 @3.027s 0%: 0.022+7.6+0.003 ms clock, 0.022+0/0.38/0+0.003 ms cpu, 48-&gt;48-&gt;32 MB, 49 MB goal, 1 P</span><br><span class="line">scvg: inuse: 48, idle: 3086, sys: 3135, released: 1598, consumed: 1536 (MB)</span><br><span class="line">gc 32 @3.046s 0%: 0.050+15+0.003 ms clock, 0.050+0/0.29/0+0.003 ms cpu, 96-&gt;96-&gt;64 MB, 97 MB goal, 1 P</span><br><span class="line">scvg: inuse: 96, idle: 3038, sys: 3135, released: 1598, consumed: 1536 (MB)</span><br><span class="line">scvg: inuse: 192, idle: 2942, sys: 3135, released: 1598, consumed: 1536 (MB)</span><br><span class="line">gc 33 @3.080s 0%: 0.019+21+0.002 ms clock, 0.019+0/0.19/0+0.002 ms cpu, 192-&gt;192-&gt;128 MB, 193 MB goal, 1 P</span><br><span class="line">scvg: inuse: 192, idle: 2942, sys: 3135, released: 1598, consumed: 1536 (MB)</span><br><span class="line">scvg: inuse: 384, idle: 2750, sys: 3135, released: 1599, consumed: 1536 (MB)</span><br><span class="line">gc 34 @3.136s 0%: 0.023+43+0.003 ms clock, 0.023+0/0.21/0+0.003 ms cpu, 384-&gt;384-&gt;256 MB, 385 MB goal, 1 P</span><br><span class="line">scvg: inuse: 384, idle: 2750, sys: 3135, released: 1599, consumed: 1536 (MB)</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œå¯¹å†…å­˜ç©ºé—´çš„ç”³è¯·ä¸é‡Šæ”¾éå¸¸é¢‘ç¹ã€‚</p>
<p>é‚£æˆ‘ä»¬æ¥ç”¨pprofåˆ†æä¸€ä¸‹ï¼š</p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815170236823.png" alt="image-20200815170236823"></p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815170358565.png" alt="image-20200815170358565"></p>
<p>å¦‚æœæˆ‘ä»¬æ”¹æˆè¿™æ ·ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">stupidMemoryUse</span><span class="params">()</span></span> &#123;</span><br><span class="line">	_ = <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">5</span>*KB)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡æ–°ç¼–è¯‘è¿è¡Œï¼Œä¼šå‘ç°å¹¶ä¸ä¼šå¼•èµ·é¢‘ç¹ GCï¼ŒåŸå› æ˜¯åœ¨ Golang é‡Œï¼Œå¯¹è±¡æ˜¯ä½¿ç”¨å †å†…å­˜è¿˜æ˜¯æ ˆå†…å­˜ï¼Œç”±ç¼–è¯‘å™¨è¿›è¡Œé€ƒé€¸åˆ†æå¹¶å†³å®šï¼Œå¦‚æœå¯¹è±¡ä¸ä¼šé€ƒé€¸ï¼Œä¾¿å¯ä½¿ç”¨æ ˆå†…å­˜ã€‚</p>
<p>ä½†æœ‰æ„å¤–ï¼Œå°±æ˜¯å¯¹è±¡çš„å°ºå¯¸è¿‡å¤§æ—¶ï¼Œå°±è¿˜æ˜¯åªèƒ½ä½¿ç”¨å †å†…å­˜äº†ã€‚</p>
<p>æ‰€ä»¥è¿™é‡Œè®¾ç½®ç”³è¯·è¾ƒå¤šçš„ç©ºé—´ï¼Œå°±æ˜¯ä¸ºäº†é¿å…ç¼–è¯‘å™¨ç›´æ¥åœ¨æ ˆä¸Šåˆ†é…ï¼ˆå› ä¸ºï¼Œå¦‚æœé‚£æ ·ï¼Œå°±ä¸ä¼šæ¶‰åŠåˆ° GC äº†ï¼‰ã€‚</p>
<h1 id="PProf-å¯è§†åŒ–ç•Œé¢"><a href="#PProf-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="PProf å¯è§†åŒ–ç•Œé¢"></a>PProf å¯è§†åŒ–ç•Œé¢</h1><h2 id="ç¼–å†™æµ‹è¯•ç”¨ä¾‹"><a href="#ç¼–å†™æµ‹è¯•ç”¨ä¾‹" class="headerlink" title="ç¼–å†™æµ‹è¯•ç”¨ä¾‹"></a><strong>ç¼–å†™æµ‹è¯•ç”¨ä¾‹</strong></h2><p>æ–°å»º data/d_test.goï¼Œæ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> data</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"testing"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> url = <span class="string">"https://github.com/EDDYCJY"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestAdd</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    s := Add(url)</span><br><span class="line">    <span class="keyword">if</span> s == <span class="string">""</span> &#123;</span><br><span class="line">        t.Errorf(<span class="string">"Test.Add error!"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkAdd</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">        Add(url)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"><a href="#æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"></a>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</h2><p>-memprofile ä¹Ÿå¯ä»¥äº†è§£ä¸€ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> data</span><br><span class="line">$ go <span class="built_in">test</span> -bench=. -cpuprofile=cpu.prof</span><br><span class="line">goos: darwin</span><br><span class="line">goarch: amd64</span><br><span class="line">pkg: GoPlayground/sw_pprof/data</span><br><span class="line">BenchmarkAdd-8   	10036965	       128 ns/op</span><br><span class="line">PASS</span><br><span class="line">ok  	GoPlayground/sw_pprof/data	1.616s</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ go tool pprof -http=:8080 cpu.prof</span><br></pre></td></tr></table></figure>

<h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><h3 id="top"><a href="#top" class="headerlink" title="top"></a>top</h3><p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815142152004.png" alt="image-20200815142152004"></p>
<h3 id="graph"><a href="#graph" class="headerlink" title="graph"></a>graph</h3><p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815142215099.png" alt="image-20200815142215099"></p>
<p>æ¡†è¶Šå¤§ï¼Œçº¿è¶Šç²—ä»£è¡¨å®ƒå ç”¨çš„æ—¶é—´è¶Šå¤§ã€‚</p>
<h3 id="peek"><a href="#peek" class="headerlink" title="peek"></a>peek</h3><p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815145210035.png" alt="image-20200815145210035"></p>
<h1 id="PProf-ç«ç„°å›¾ï¼ˆFlame-Graphï¼‰"><a href="#PProf-ç«ç„°å›¾ï¼ˆFlame-Graphï¼‰" class="headerlink" title="PProf ç«ç„°å›¾ï¼ˆFlame Graphï¼‰"></a>PProf ç«ç„°å›¾ï¼ˆFlame Graphï¼‰</h1><h2 id="é‡‡é›†æ•°æ®"><a href="#é‡‡é›†æ•°æ®" class="headerlink" title="é‡‡é›†æ•°æ®"></a>é‡‡é›†æ•°æ®</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> data</span><br><span class="line">$ go <span class="built_in">test</span> -bench=. -cpuprofile=cpu.prof</span><br><span class="line">goos: darwin</span><br><span class="line">goarch: amd64</span><br><span class="line">pkg: GoPlayground/sw_pprof/data</span><br><span class="line">BenchmarkAdd-8   	10036965	       128 ns/op</span><br><span class="line">PASS</span><br><span class="line">ok  	GoPlayground/sw_pprof/data	1.616s</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…-PProf"><a href="#å®‰è£…-PProf" class="headerlink" title="å®‰è£… PProf"></a>å®‰è£… PProf</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ go get -u github.com/google/pprof</span><br></pre></td></tr></table></figure>

<h2 id="å¯åŠ¨-PProf-å¯è§†åŒ–ç•Œé¢"><a href="#å¯åŠ¨-PProf-å¯è§†åŒ–ç•Œé¢" class="headerlink" title="å¯åŠ¨ PProf å¯è§†åŒ–ç•Œé¢"></a>å¯åŠ¨ PProf å¯è§†åŒ–ç•Œé¢</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pprof -http=:8080 cpu.prof</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„æœ€å¤§ä¼˜ç‚¹æ˜¯åŠ¨æ€çš„ã€‚è°ƒç”¨é¡ºåºç”±ä¸Šåˆ°ä¸‹ï¼ˆA -&gt; B -&gt; C -&gt; Dï¼‰ï¼Œæ¯ä¸€å—ä»£è¡¨ä¸€ä¸ªå‡½æ•°ï¼Œè¶Šå¤§ä»£è¡¨å ç”¨ CPU çš„æ—¶é—´æ›´é•¿ã€‚åŒæ—¶å®ƒä¹Ÿæ”¯æŒç‚¹å‡»å—æ·±å…¥è¿›è¡Œåˆ†æï¼</p>
<p><img src="https://d326g9ccfagnrm.cloudfront.net/img/assets/image-20200815145322025.png" alt="image-20200815145322025"></p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li><a href="https://golang.org/pkg/net/http/pprof/" target="_blank" rel="noopener">https://golang.org/pkg/net/http/pprof/</a></li>
<li><a href="https://blog.golang.org/pprof" target="_blank" rel="noopener">https://blog.golang.org/pprof</a></li>
<li><a href="https://golang.org/pkg/runtime/pprof/" target="_blank" rel="noopener">https://golang.org/pkg/runtime/pprof/</a></li>
<li><a href="https://github.com/google/pprof/blob/master/doc/README.md" target="_blank" rel="noopener">https://github.com/google/pprof/blob/master/doc/README.md</a></li>
<li><a href="https://segmentfault.com/a/1190000016412013" target="_blank" rel="noopener">https://segmentfault.com/a/1190000016412013</a></li>
<li><a href="https://blog.wolfogre.com/posts/go-ppof-practice/" target="_blank" rel="noopener">https://blog.wolfogre.com/posts/go-ppof-practice/</a></li>
</ul>

      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Golang/" class="article-tag-list-link color2">Golang</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/15/ã€Golangã€‘æ€§èƒ½åˆ†æ-PProf/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Linuxã€‘å‘½ä»¤-date" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/09/ã€Linuxã€‘å‘½ä»¤-date/">ã€Linuxã€‘å‘½ä»¤-date</a>
    </h1>
  

        
        <a href="/2020/08/09/ã€Linuxã€‘å‘½ä»¤-date/" class="archive-article-date">
  	<time datetime="2020-08-09T09:49:24.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>dateæ˜¯Linuxç³»ç»Ÿé‡Œè‡ªå¸¦çš„ä¸€ä¸ªç³»ç»Ÿå‘½ä»¤ï¼Œç”¨æ¥æ˜¾ç¤ºå½“å‰çš„ç³»ç»Ÿæ—¶é—´ï¼Œä¸è¿‡é»˜è®¤æ˜¾ç¤ºçš„ç»“æœé‡ŒåŒ…æ‹¬å¾ˆå¤šä¿¡æ¯ï¼Œç‰¹åˆ«æ˜¯åšä¸ºæ–‡ä»¶åè¾“å‡ºæ—¶ï¼Œä¸æ˜¯å¾ˆæ–¹ä¾¿<br>å¥½åœ¨dateå‘½ä»¤é‡ŒåŒ…å«æ ¼å¼åŒ–è¾“å‡ºçš„é€‰é¡¹ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ date <span class="string">"+%Y-%m-%d"</span></span><br><span class="line">2020-08-09</span><br><span class="line">$ date <span class="string">"+%Y-%m-%d %H:%M:%S"</span></span><br><span class="line">2020-08-09 17:51:17</span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/09/ã€Linuxã€‘å‘½ä»¤-date/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color1">Linux</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Linux/" class="article-tag-list-link color1">Linux</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/09/ã€Linuxã€‘å‘½ä»¤-date/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Pythonã€‘æ—¶é—´" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/09/ã€Pythonã€‘æ—¶é—´/">ã€Pythonã€‘Python3 çš„æ—¶é—´</a>
    </h1>
  

        
        <a href="/2020/08/09/ã€Pythonã€‘æ—¶é—´/" class="archive-article-date">
  	<time datetime="2020-08-09T09:21:15.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="å½“å‰æ—¶é—´"><a href="#å½“å‰æ—¶é—´" class="headerlink" title="å½“å‰æ—¶é—´"></a>å½“å‰æ—¶é—´</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> datetime</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.today()       <span class="comment"># ä¸åŒ…å«æ—¶åŒºä¿¡æ¯çš„å½“å‰æ—¶é—´ï¼ˆNaive timeï¼‰</span></span><br><span class="line">datetime.datetime(<span class="number">2020</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">17</span>, <span class="number">36</span>, <span class="number">6</span>, <span class="number">921616</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>datetime.datetime.now()         <span class="comment"># ä¸åŒ…å«æ—¶åŒºä¿¡æ¯çš„å½“å‰æ—¶é—´ï¼ˆå½“ä¸ä¼ å…¥ tz å‚æ•°æ—¶ï¼Œå’Œdatetime.today()æ²¡æœ‰åŒºåˆ«ï¼‰</span></span><br><span class="line">datetime.datetime(<span class="number">2019</span>, <span class="number">10</span>, <span class="number">19</span>, <span class="number">10</span>, <span class="number">23</span>, <span class="number">38</span>, <span class="number">117425</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.time()                     <span class="comment"># è·å–å½“å‰æ—¶é—´å¯¹åº”æ—¶é—´æˆ³ï¼ˆNaive timeï¼‰</span></span><br><span class="line"><span class="number">1596965822.509548</span></span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘æ—¶é—´/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Python/" class="article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘æ—¶é—´/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Pythonã€‘log-framework" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/09/ã€Pythonã€‘log-framework/">ã€Pythonã€‘Log Framework - logging</a>
    </h1>
  

        
        <a href="/2020/08/09/ã€Pythonã€‘log-framework/" class="archive-article-date">
  	<time datetime="2020-08-09T08:25:38.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>æ‰“å°æ—¥å¿—æœ€ç®€å•æ–¹å¼æ˜¯ä½¿ç”¨ <code>logging</code> æ¨¡å—ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># Configure the logging system</span></span><br><span class="line">    logging.basicConfig(</span><br><span class="line">        filename=<span class="string">'app.log'</span>,</span><br><span class="line">        level=logging.ERROR</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Variables (to make the calls that follow work)</span></span><br><span class="line">    hostname = <span class="string">'www.python.org'</span></span><br><span class="line">    item = <span class="string">'spam'</span></span><br><span class="line">    filename = <span class="string">'data.csv'</span></span><br><span class="line">    mode = <span class="string">'r'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Example logging calls (insert into your program)</span></span><br><span class="line">    logging.critical(<span class="string">'Host %s unknown'</span>, hostname)</span><br><span class="line">    logging.error(<span class="string">"Couldn't find %r"</span>, item)</span><br><span class="line">    logging.warning(<span class="string">'Feature is deprecated'</span>)</span><br><span class="line">    logging.info(<span class="string">'Opening file %r, mode=%r'</span>, filename, mode)</span><br><span class="line">    logging.debug(<span class="string">'Got here'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢äº”ä¸ªæ—¥å¿—è°ƒç”¨ï¼ˆcritical(), error(), warning(), info(), debug()ï¼‰ä»¥é™åºæ–¹å¼è¡¨ç¤ºä¸åŒçš„ä¸¥é‡çº§åˆ«ã€‚ <code>basicConfig()</code> çš„ <code>level</code> å‚æ•°æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ã€‚ æ‰€æœ‰çº§åˆ«ä½äºæ­¤çº§åˆ«çš„æ—¥å¿—æ¶ˆæ¯éƒ½ä¼šè¢«å¿½ç•¥æ‰ã€‚ æ¯ä¸ªloggingæ“ä½œçš„å‚æ•°æ˜¯ä¸€ä¸ªæ¶ˆæ¯å­—ç¬¦ä¸²ï¼Œåé¢å†è·Ÿä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€‚ æ„é€ æœ€ç»ˆçš„æ—¥å¿—æ¶ˆæ¯çš„æ—¶å€™æˆ‘ä»¬ä½¿ç”¨äº†%æ“ä½œç¬¦æ¥æ ¼å¼åŒ–æ¶ˆæ¯å­—ç¬¦ä¸²ã€‚</p>
        
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘log-framework/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Python/" class="article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘log-framework/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€hugoã€‘ä½¿ç”¨" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/09/ã€hugoã€‘ä½¿ç”¨/">ã€hugoã€‘ä½¿ç”¨</a>
    </h1>
  

        
        <a href="/2020/08/09/ã€hugoã€‘ä½¿ç”¨/" class="archive-article-date">
  	<time datetime="2020-08-09T03:57:37.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install hugo</span><br></pre></td></tr></table></figure>

<h1 id="Operation"><a href="#Operation" class="headerlink" title="Operation"></a>Operation</h1><h2 id="åˆ›å»ºæ–°ç«™ç‚¹"><a href="#åˆ›å»ºæ–°ç«™ç‚¹" class="headerlink" title="åˆ›å»ºæ–°ç«™ç‚¹"></a>åˆ›å»ºæ–°ç«™ç‚¹</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ–°ç«™ç‚¹</span></span><br><span class="line">$ hugo new site <span class="string">"<span class="variable">$mysite</span>"</span></span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/09/ã€hugoã€‘ä½¿ç”¨/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color5">hugo</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/hugo/" class="article-tag-list-link color5">hugo</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/09/ã€hugoã€‘ä½¿ç”¨/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Pythonã€‘Django-Django-Shell" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/09/ã€Pythonã€‘Django-Django-Shell/">ã€Pythonã€‘Django - Django Shell</a>
    </h1>
  

        
        <a href="/2020/08/09/ã€Pythonã€‘Django-Django-Shell/" class="archive-article-date">
  	<time datetime="2020-08-09T03:27:46.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-09</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ python manage.py shell</span><br><span class="line">Python 2.7.12 (default, Nov 12 2018, 14:36:49)</span><br><span class="line">Type <span class="string">"copyright"</span>, <span class="string">"credits"</span> or <span class="string">"license"</span> <span class="keyword">for</span> more information.</span><br><span class="line"></span><br><span class="line">IPython 2.4.1 -- An enhanced Interactive Python.</span><br><span class="line">?         -&gt; Introduction and overview of IPython<span class="string">'s features.</span></span><br><span class="line"><span class="string">%quickref -&gt; Quick reference.</span></span><br><span class="line"><span class="string">help      -&gt; Python'</span>s own <span class="built_in">help</span> system.</span><br><span class="line">object?   -&gt; Details about <span class="string">'object'</span>, use <span class="string">'object??'</span> <span class="keyword">for</span> extra details.</span><br><span class="line"></span><br><span class="line">In [1]:</span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘Django-Django-Shell/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Python/" class="article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/09/ã€Pythonã€‘Django-Django-Shell/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Pythonã€‘å®‰è£…Python" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/06/ã€Pythonã€‘å®‰è£…Python/">ã€Pythonã€‘å®‰è£…Python</a>
    </h1>
  

        
        <a href="/2020/08/06/ã€Pythonã€‘å®‰è£…Python/" class="archive-article-date">
  	<time datetime="2020-08-06T15:33:17.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-06</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="å®‰è£…pip"><a href="#å®‰è£…pip" class="headerlink" title="å®‰è£…pip"></a>å®‰è£…pip</h1><h2 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h2><p>pip å®˜ç½‘ï¼š<a href="https://pypi.org/project/pip/" target="_blank" rel="noopener">https://pypi.org/project/pip/</a></p>
<p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥åˆ¤æ–­æ˜¯å¦å·²å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip --version     # Python2.x ç‰ˆæœ¬å‘½ä»¤</span><br><span class="line">pip3 --version    # Python3.x ç‰ˆæœ¬å‘½ä»¤</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ è¿˜æœªå®‰è£…ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥å®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py   # ä¸‹è½½å®‰è£…è„šæœ¬</span><br><span class="line">$ sudo python get-pip.py    # è¿è¡Œå®‰è£…è„šæœ¬</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong>ç”¨å“ªä¸ªç‰ˆæœ¬çš„ Python è¿è¡Œå®‰è£…è„šæœ¬ï¼Œpip å°±è¢«å…³è”åˆ°å“ªä¸ªç‰ˆæœ¬ï¼Œå¦‚æœæ˜¯ Python3 åˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo python3 get-pip.py    # è¿è¡Œå®‰è£…è„šæœ¬ã€‚</span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/06/ã€Pythonã€‘å®‰è£…Python/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Python/" class="article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/06/ã€Pythonã€‘å®‰è£…Python/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
    <article id="post-ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬" class="article article-type-post  article-index" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/08/06/ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬/">ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬</a>
    </h1>
  

        
        <a href="/2020/08/06/ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬/" class="archive-article-date">
  	<time datetime="2020-08-06T15:19:28.000Z" itemprop="datePublished"><i class="icon-calendar icon"></i>2020-08-06</time>
</a>
        
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ brew install python3</span><br><span class="line">$ brew link python@3.8</span><br></pre></td></tr></table></figure>
        
          <a class="article-more-a" href="/2020/08/06/ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬/#more">more >></a>
        
      

      
    </div>
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>

      
	<div class="article-category tagcloud">
		<i class="icon-book icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="/categories/Python/" class="article-tag-list-link color2">Python</a>
        		</li>
      		
		</ul>
	</div>


      
        <p class="article-more-link">
          <a class="article-more-a" href="/2020/08/06/ã€Pythonã€‘å‡çº§Pythonç‰ˆæœ¬/">Show More >></a>
        </p>
      

      
      <div class="clearfix"></div>
    </div>
  </div>
</article>








  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/74/">74</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  


          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020 è¥¿ç»´èœ€é»
    	</div>
      	<div class="footer-right">
      		
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		mathjax: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true,
		root: "/",
		innerArchive: true,
		showTags: true
	}
</script>

<script>!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="./",n(0)}([function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,n){var e=/\/|index.html/g;return t.replace(e,"")===n.replace(e,"")}function i(){for(var t=document.querySelectorAll(".js-header-menu li a"),n=window.location.pathname,e=0,r=t.length;e<r;e++){var i=t[e];o(n,i.getAttribute("href"))&&(0,d.default)(i,"active")}}function u(t){for(var n=t.offsetLeft,e=t.offsetParent;null!==e;)n+=e.offsetLeft,e=e.offsetParent;return n}function f(t){for(var n=t.offsetTop,e=t.offsetParent;null!==e;)n+=e.offsetTop,e=e.offsetParent;return n}function c(t,n,e,r,o){var i=u(t),c=f(t)-n;if(c-e<=o){var a=t.$newDom;a||(a=t.cloneNode(!0),(0,h.default)(t,a),t.$newDom=a,a.style.position="fixed",a.style.top=(e||c)+"px",a.style.left=i+"px",a.style.zIndex=r||2,a.style.width="100%",a.style.color="#fff"),a.style.visibility="visible",t.style.visibility="hidden"}else{t.style.visibility="visible";var s=t.$newDom;s&&(s.style.visibility="hidden")}}function a(){var t=document.querySelector(".js-overlay"),n=document.querySelector(".js-header-menu");c(t,document.body.scrollTop,-63,2,0),c(n,document.body.scrollTop,1,3,0)}function s(){document.querySelector("#container").addEventListener("scroll",function(t){a()}),window.addEventListener("scroll",function(t){a()}),a()}function l(){x.default.versions.mobile&&window.screen.width<800&&(i(),s())}var p=e(71),d=r(p),v=e(72),y=(r(v),e(84)),h=r(y),b=e(69),x=r(b),m=e(75),g=r(m),w=e(70);l(),(0,w.addLoadEvent)(function(){g.default.init()}),t.exports={}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n){var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},function(t,n,e){var r=e(49),o=e(15);t.exports=function(t){return r(o(t))}},function(t,n,e){t.exports=!e(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n,e){var r=e(6),o=e(12);t.exports=e(4)?function(t,n,e){return r.f(t,n,o(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){var r=e(10),o=e(30),i=e(24),u=Object.defineProperty;n.f=e(4)?Object.defineProperty:function(t,n,e){if(r(t),n=i(n,!0),r(e),o)try{return u(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){var r=e(22)("wks"),o=e(13),i=e(1).Symbol,u="function"==typeof i,f=t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)("Symbol."+t))};f.store=r},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,e){var r=e(35),o=e(16);t.exports=Object.keys||function(t){return r(t,o)}},function(t,n,e){var r=e(11);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){var e=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+r).toString(36))}},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){t.exports={}},function(t,n){t.exports=!0},function(t,n){n.f={}.propertyIsEnumerable},function(t,n,e){var r=e(6).f,o=e(2),i=e(7)("toStringTag");t.exports=function(t,n,e){t&&!o(t=e?t:t.prototype,i)&&r(t,i,{configurable:!0,value:n})}},function(t,n,e){var r=e(22)("keys"),o=e(13);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,n,e){var r=e(1),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,n){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},function(t,n,e){var r=e(11);t.exports=function(t,n){if(!r(t))return t;var e,o;if(n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;if("function"==typeof(e=t.valueOf)&&!r(o=e.call(t)))return o;if(!n&&"function"==typeof(e=t.toString)&&!r(o=e.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var r=e(1),o=e(14),i=e(18),u=e(26),f=e(6).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in n||f(n,t,{value:u.f(t)})}},function(t,n,e){n.f=e(7)},function(t,n,e){var r=e(1),o=e(14),i=e(46),u=e(5),f="prototype",c=function(t,n,e){var a,s,l,p=t&c.F,d=t&c.G,v=t&c.S,y=t&c.P,h=t&c.B,b=t&c.W,x=d?o:o[n]||(o[n]={}),m=x[f],g=d?r:v?r[n]:(r[n]||{})[f];d&&(e=n);for(a in e)s=!p&&g&&void 0!==g[a],s&&a in x||(l=s?g[a]:e[a],x[a]=d&&"function"!=typeof g[a]?e[a]:h&&s?i(l,r):b&&g[a]==l?function(t){var n=function(n,e,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,r)}return t.apply(this,arguments)};return n[f]=t[f],n}(l):y&&"function"==typeof l?i(Function.call,l):l,y&&((x.virtual||(x.virtual={}))[a]=l,t&c.R&&m&&!m[a]&&u(m,a,l)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,n,e){var r=e(11),o=e(1).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,e){t.exports=!e(4)&&!e(8)(function(){return 7!=Object.defineProperty(e(29)("div"),"a",{get:function(){return 7}}).a})},function(t,n,e){"use strict";var r=e(18),o=e(27),i=e(36),u=e(5),f=e(2),c=e(17),a=e(51),s=e(20),l=e(58),p=e(7)("iterator"),d=!([].keys&&"next"in[].keys()),v="@@iterator",y="keys",h="values",b=function(){return this};t.exports=function(t,n,e,x,m,g,w){a(e,n,x);var O,S,_,j=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new e(this,t)};case h:return function(){return new e(this,t)}}return function(){return new e(this,t)}},P=n+" Iterator",E=m==h,M=!1,A=t.prototype,T=A[p]||A[v]||m&&A[m],L=T||j(m),N=m?E?j("entries"):L:void 0,C="Array"==n?A.entries||T:T;if(C&&(_=l(C.call(new t)),_!==Object.prototype&&(s(_,P,!0),r||f(_,p)||u(_,p,b))),E&&T&&T.name!==h&&(M=!0,L=function(){return T.call(this)}),r&&!w||!d&&!M&&A[p]||u(A,p,L),c[n]=L,c[P]=b,m)if(O={values:E?L:j(h),keys:g?L:j(y),entries:N},w)for(S in O)S in A||i(A,S,O[S]);else o(o.P+o.F*(d||M),n,O);return O}},function(t,n,e){var r=e(10),o=e(55),i=e(16),u=e(21)("IE_PROTO"),f=function(){},c="prototype",a=function(){var t,n=e(29)("iframe"),r=i.length,o="<",u=">";for(n.style.display="none",e(48).appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+u+"document.F=Object"+o+"/script"+u),t.close(),a=t.F;r--;)delete a[c][i[r]];return a()};t.exports=Object.create||function(t,n){var e;return null!==t?(f[c]=r(t),e=new f,f[c]=null,e[u]=t):e=a(),void 0===n?e:o(e,n)}},function(t,n,e){var r=e(35),o=e(16).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,e){var r=e(2),o=e(3),i=e(45)(!1),u=e(21)("IE_PROTO");t.exports=function(t,n){var e,f=o(t),c=0,a=[];for(e in f)e!=u&&r(f,e)&&a.push(e);for(;n.length>c;)r(f,e=n[c++])&&(~i(a,e)||a.push(e));return a}},function(t,n,e){t.exports=e(5)},function(t,n,e){var r=e(15);t.exports=function(t){return Object(r(t))}},function(t,n,e){t.exports={default:e(41),__esModule:!0}},function(t,n,e){t.exports={default:e(42),__esModule:!0}},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=e(39),i=r(o),u=e(38),f=r(u),c="function"==typeof f.default&&"symbol"==typeof i.default?function(t){return typeof t}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":typeof t};n.default="function"==typeof f.default&&"symbol"===c(i.default)?function(t){return"undefined"==typeof t?"undefined":c(t)}:function(t){return t&&"function"==typeof f.default&&t.constructor===f.default&&t!==f.default.prototype?"symbol":"undefined"==typeof t?"undefined":c(t)}},function(t,n,e){e(65),e(63),e(66),e(67),t.exports=e(14).Symbol},function(t,n,e){e(64),e(68),t.exports=e(26).f("iterator")},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(){}},function(t,n,e){var r=e(3),o=e(61),i=e(60);t.exports=function(t){return function(n,e,u){var f,c=r(n),a=o(c.length),s=i(u,a);if(t&&e!=e){for(;a>s;)if(f=c[s++],f!=f)return!0}else for(;a>s;s++)if((t||s in c)&&c[s]===e)return t||s||0;return!t&&-1}}},function(t,n,e){var r=e(43);t.exports=function(t,n,e){if(r(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var r=e(9),o=e(34),i=e(19);t.exports=function(t){var n=r(t),e=o.f;if(e)for(var u,f=e(t),c=i.f,a=0;f.length>a;)c.call(t,u=f[a++])&&n.push(u);return n}},function(t,n,e){t.exports=e(1).document&&document.documentElement},function(t,n,e){var r=e(28);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,n,e){var r=e(28);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,n,e){"use strict";var r=e(32),o=e(12),i=e(20),u={};e(5)(u,e(7)("iterator"),function(){return this}),t.exports=function(t,n,e){t.prototype=r(u,{next:o(1,e)}),i(t,n+" Iterator")}},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,e){var r=e(9),o=e(3);t.exports=function(t,n){for(var e,i=o(t),u=r(i),f=u.length,c=0;f>c;)if(i[e=u[c++]]===n)return e}},function(t,n,e){var r=e(13)("meta"),o=e(11),i=e(2),u=e(6).f,f=0,c=Object.isExtensible||function(){return!0},a=!e(8)(function(){return c(Object.preventExtensions({}))}),s=function(t){u(t,r,{value:{i:"O"+ ++f,w:{}}})},l=function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!c(t))return"F";if(!n)return"E";s(t)}return t[r].i},p=function(t,n){if(!i(t,r)){if(!c(t))return!0;if(!n)return!1;s(t)}return t[r].w},d=function(t){return a&&v.NEED&&c(t)&&!i(t,r)&&s(t),t},v=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:p,onFreeze:d}},function(t,n,e){var r=e(6),o=e(10),i=e(9);t.exports=e(4)?Object.defineProperties:function(t,n){o(t);for(var e,u=i(n),f=u.length,c=0;f>c;)r.f(t,e=u[c++],n[e]);return t}},function(t,n,e){var r=e(19),o=e(12),i=e(3),u=e(24),f=e(2),c=e(30),a=Object.getOwnPropertyDescriptor;n.f=e(4)?a:function(t,n){if(t=i(t),n=u(n,!0),c)try{return a(t,n)}catch(t){}if(f(t,n))return o(!r.f.call(t,n),t[n])}},function(t,n,e){var r=e(3),o=e(33).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],f=function(t){try{return o(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?f(t):o(r(t))}},function(t,n,e){var r=e(2),o=e(37),i=e(21)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,e){var r=e(23),o=e(15);t.exports=function(t){return function(n,e){var i,u,f=String(o(n)),c=r(e),a=f.length;return c<0||c>=a?t?"":void 0:(i=f.charCodeAt(c),i<55296||i>56319||c+1===a||(u=f.charCodeAt(c+1))<56320||u>57343?t?f.charAt(c):i:t?f.slice(c,c+2):(i-55296<<10)+(u-56320)+65536)}}},function(t,n,e){var r=e(23),o=Math.max,i=Math.min;t.exports=function(t,n){return t=r(t),t<0?o(t+n,0):i(t,n)}},function(t,n,e){var r=e(23),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,n,e){"use strict";var r=e(44),o=e(52),i=e(17),u=e(3);t.exports=e(31)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,e=this._i++;return!t||e>=t.length?(this._t=void 0,o(1)):"keys"==n?o(0,e):"values"==n?o(0,t[e]):o(0,[e,t[e]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,n){},function(t,n,e){"use strict";var r=e(59)(!0);e(31)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,e=this._i;return e>=n.length?{value:void 0,done:!0}:(t=r(n,e),this._i+=t.length,{value:t,done:!1})})},function(t,n,e){"use strict";var r=e(1),o=e(2),i=e(4),u=e(27),f=e(36),c=e(54).KEY,a=e(8),s=e(22),l=e(20),p=e(13),d=e(7),v=e(26),y=e(25),h=e(53),b=e(47),x=e(50),m=e(10),g=e(3),w=e(24),O=e(12),S=e(32),_=e(57),j=e(56),P=e(6),E=e(9),M=j.f,A=P.f,T=_.f,L=r.Symbol,N=r.JSON,C=N&&N.stringify,k="prototype",F=d("_hidden"),q=d("toPrimitive"),I={}.propertyIsEnumerable,B=s("symbol-registry"),D=s("symbols"),W=s("op-symbols"),H=Object[k],K="function"==typeof L,R=r.QObject,J=!R||!R[k]||!R[k].findChild,U=i&&a(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,e){var r=M(H,n);r&&delete H[n],A(t,n,e),r&&t!==H&&A(H,n,r)}:A,G=function(t){var n=D[t]=S(L[k]);return n._k=t,n},$=K&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},z=function(t,n,e){return t===H&&z(W,n,e),m(t),n=w(n,!0),m(e),o(D,n)?(e.enumerable?(o(t,F)&&t[F][n]&&(t[F][n]=!1),e=S(e,{enumerable:O(0,!1)})):(o(t,F)||A(t,F,O(1,{})),t[F][n]=!0),U(t,n,e)):A(t,n,e)},Y=function(t,n){m(t);for(var e,r=b(n=g(n)),o=0,i=r.length;i>o;)z(t,e=r[o++],n[e]);return t},Q=function(t,n){return void 0===n?S(t):Y(S(t),n)},X=function(t){var n=I.call(this,t=w(t,!0));return!(this===H&&o(D,t)&&!o(W,t))&&(!(n||!o(this,t)||!o(D,t)||o(this,F)&&this[F][t])||n)},V=function(t,n){if(t=g(t),n=w(n,!0),t!==H||!o(D,n)||o(W,n)){var e=M(t,n);return!e||!o(D,n)||o(t,F)&&t[F][n]||(e.enumerable=!0),e}},Z=function(t){for(var n,e=T(g(t)),r=[],i=0;e.length>i;)o(D,n=e[i++])||n==F||n==c||r.push(n);return r},tt=function(t){for(var n,e=t===H,r=T(e?W:g(t)),i=[],u=0;r.length>u;)!o(D,n=r[u++])||e&&!o(H,n)||i.push(D[n]);return i};K||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),n=function(e){this===H&&n.call(W,e),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),U(this,t,O(1,e))};return i&&J&&U(H,t,{configurable:!0,set:n}),G(t)},f(L[k],"toString",function(){return this._k}),j.f=V,P.f=z,e(33).f=_.f=Z,e(19).f=X,e(34).f=tt,i&&!e(18)&&f(H,"propertyIsEnumerable",X,!0),v.f=function(t){return G(d(t))}),u(u.G+u.W+u.F*!K,{Symbol:L});for(var nt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;nt.length>et;)d(nt[et++]);for(var nt=E(d.store),et=0;nt.length>et;)y(nt[et++]);u(u.S+u.F*!K,"Symbol",{for:function(t){return o(B,t+="")?B[t]:B[t]=L(t)},keyFor:function(t){if($(t))return h(B,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){J=!0},useSimple:function(){J=!1}}),u(u.S+u.F*!K,"Object",{create:Q,defineProperty:z,defineProperties:Y,getOwnPropertyDescriptor:V,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&u(u.S+u.F*(!K||a(function(){var t=L();return"[null]"!=C([t])||"{}"!=C({a:t})||"{}"!=C(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!$(t)){for(var n,e,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);return n=r[1],"function"==typeof n&&(e=n),!e&&x(n)||(n=function(t,n){if(e&&(n=e.call(this,t,n)),!$(n))return n}),r[1]=n,C.apply(N,r)}}}),L[k][q]||e(5)(L[k],q,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,n,e){e(25)("asyncIterator")},function(t,n,e){e(25)("observable")},function(t,n,e){e(62);for(var r=e(1),o=e(5),i=e(17),u=e(7)("toStringTag"),f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],c=0;c<5;c++){var a=f[c],s=r[a],l=s&&s.prototype;l&&!l[u]&&o(l,u,a),i[a]=i.Array}},function(t,n){"use strict";var e={versions:function(){var t=window.navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&t.indexOf("KHTML")==-1,mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Linux")>-1,iPhone:t.indexOf("iPhone")>-1||t.indexOf("Mac")>-1,iPad:t.indexOf("iPad")>-1,webApp:t.indexOf("Safari")==-1,weixin:t.indexOf("MicroMessenger")==-1}}()};t.exports=e},function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=e(40),i=r(o),u=function(){function t(t,n,e){return n||e?String.fromCharCode(n||e):o[t]||t}function n(t){return l[t]}var e=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,r=/['<> "&]/g,o={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},f=/\u00a0/g,c=/<br\s*\/?>/gi,a=/\r?\n/g,s=/\s/g,l={};for(var p in o)l[o[p]]=p;return o["&apos;"]="'",l["'"]="&#39;",{encode:function(t){return t?(""+t).replace(r,n).replace(a,"<br/>").replace(s,"&nbsp;"):""},decode:function(n){return n?(""+n).replace(c,"\n").replace(e,t).replace(f," "):""},encodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},encodeBase16forJSON:function(t){if(!t)return t;t=t.replace(/[\u4E00-\u9FBF]/gi,function(t){return escape(t).replace("%u","\\u")});for(var n=[],e=0,r=t.length;r>e;e++)n.push(t.charCodeAt(e).toString(16).toUpperCase());return n.join("")},decodeBase16:function(t){if(!t)return t;t+="";for(var n=[],e=0,r=t.length;r>e;e+=2)n.push(String.fromCharCode("0x"+t.slice(e,e+2)));return n.join("")},encodeObject:function(t){if(t instanceof Array)for(var n=0,e=t.length;e>n;n++)t[n]=u.encodeObject(t[n]);else if("object"==("undefined"==typeof t?"undefined":(0,i.default)(t)))for(var r in t)t[r]=u.encodeObject(t[r]);else if("string"==typeof t)return u.encode(t);return t},loadScript:function(t){var n=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(n),n.setAttribute("src",t)},addLoadEvent:function(t){var n=window.onload;"function"!=typeof window.onload?window.onload=t:window.onload=function(){n(),t()}}}}();t.exports=u},function(t,n){function e(t,n){t.classList?t.classList.add(n):t.className+=" "+n}t.exports=e},function(t,n){function e(t,n){if(t.classList)t.classList.remove(n);else{var e=new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi");t.className=t.className.replace(e," ")}}t.exports=e},,,function(t,n){"use strict";function e(){var t=document.querySelector("#page-nav");if(t&&!document.querySelector("#page-nav .extend.prev")&&(t.innerHTML='<a class="extend prev disabled" rel="prev">&laquo; Prev</a>'+t.innerHTML),t&&!document.querySelector("#page-nav .extend.next")&&(t.innerHTML=t.innerHTML+'<a class="extend next disabled" rel="next">Next &raquo;</a>'),yiliaConfig&&yiliaConfig.open_in_new){var n=document.querySelectorAll(".article-entry a:not(.article-more-a)");n.forEach(function(t){t.setAttribute("target","_blank")})}var e=document.querySelector("#js-aboutme");e&&0!==e.length&&(e.innerHTML=e.innerText)}t.exports={init:e}},,,,,,,,,function(t,n){function e(t,n){if("string"==typeof n)return t.insertAdjacentHTML("afterend",n);var e=t.nextSibling;return e?t.parentNode.insertBefore(n,e):t.parentNode.appendChild(n)}t.exports=e}])</script><script src="/./main.2d7529.js"></script><script>!function(){var e=function(e){var t=document.createElement("script");document.getElementsByTagName("body")[0].appendChild(t),t.setAttribute("src",e)};e("/slider.885efe.js")}()</script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">Tag</a></li>
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'friends')"><a href="javascript:void(0)" q-class="active:friends">Friends</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find somethingâ€¦">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Algorithm Problem</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">AWS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Algorithm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Architectural Pattern</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Architecture</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ArchitectureDesign</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Nginx</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">C#</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Frontend</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Cache</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Browser</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Debug</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Visual Studio</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Cache System</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">JavaScript</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Data Format</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Data Structure</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Compile</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Database</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Design Pattern</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Distributed System</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Microservices</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Django</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Redis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Docker</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">ELK</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Version Control</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Format</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Golang</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">HTTP</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Network</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Hardware</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Interview</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">JQuery</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Java EE</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Java</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Network Programming</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Software Testing</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">LaTeX</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Operating System</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">Lock</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Linxu</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">macOS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Markdown</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Lucene</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Mattermost</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">MySQL</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Netwok</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Netwrok</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Node.js</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">npm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">NPM</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">OOP</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">OpenWrt</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">nvm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Operating Systems</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Performancede</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Performance</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Programming</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Protobuf</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Python</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">Codis</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">RaspbeeryPi</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">SQL</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Regular Expression</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">Security</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Spring</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">VMware</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">TypeScript</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">VPN</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">Vmware</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">Windows</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">WordPress</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hexo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">ZooKeeper</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">iOS</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hugo</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            ç¼ºå¤±æ¨¡å—ã€‚<br/>1ã€åœ¨åšå®¢æ ¹ç›®å½•ï¼ˆæ³¨æ„ä¸æ˜¯yiliaæ ¹ç›®å½•ï¼‰æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<br/> npm i hexo-generator-json-content --save<br/><br/>
            2ã€åœ¨æ ¹ç›®å½•_config.ymlé‡Œæ·»åŠ é…ç½®ï¼š
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: true
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
          </li>
        </ul>
    	</section>
    

    
    	<section class="tools-section tools-section-friends" q-show="friends">
  		
        <ul class="search-ul">
          
            <li class="search-li">
              <a href="http://swsmile.info/en/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>My English Blog</a>
            </li>
          
            <li class="search-li">
              <a href="http://swsmile.info/oj/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>My OJ Blog</a>
            </li>
          
            <li class="search-li">
              <a href="http://swsmile.info/gym/" target="_blank" class="search-title"><i class="icon-quo-left icon"></i>è¥¿ç»´èœ€é»çš„å¥èº« Blog</a>
            </li>
          
        </ul>
  		
    	</section>
    

    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



</body>
</html>